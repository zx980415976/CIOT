# 认识重构的4W
## 1重构是什么（What）
#### 1.1重构的定义：
* n：重构是对软件内部结构的一种调整，目的是在不改变软件可观察的外部行为的前提下，提高其可理解性，降低修改成本。
* v：使用一些列重构手法，在不改变软件可观察行为的前提下，调整其结构。
#### 1.2重构的要点：
* 1重构的目的是为了是软件更容易理解和修改；
* 2重构不能改变软件可观察的行为
## 2为什么重构（Why）
#### 2.1重构可以改进软件的设计
*  随着时间的推移，因为或这或那的诸多原因会对代码进行一些列修改，导致程序逐渐失去自己最初的结构，从而使代码越来越让人难以理解。进行经常性的代码重构，可以帮助代码维持自己该有的本来形态。
#### 2.2重构可以使软件更容易理解
 *  利用重构来协助自己理解不熟悉的代码
 *  “准确说出我想要的”利用重构来更好的使代码表达出你的意图
#### 2.3重构可以帮助找到Bug
 *  对陌生代码按你理解的进行重构，搞清楚程序的结构和你不确定的部分假设，这样大多数浅层次的Bug就一目了然了
#### 2.4重构可以提高编码速度
 *   不停的重构就是在不停的进行代码结构优化设计，让代码更具可读性和阔展修改的可能
## 3.何时进行重构（When） 
#### 3.1添加新功能的时候
* 两种行为的往复切换：添加新功能、代码重构，添加新功能的时候不去修改既有代码，重构的时候不能添加新功能
#### 3.2修补错误的时候
#### 3.3复审代码的时候
## 4何时不该进行重构（When）
#### 4.1现有代码不能进行正常的运行
 * 对于满是错误的代码，进行重构还不如进行重写
#### 4.2项目已接近最后期限
 * 项目已近濒临最后交付期限，没有进行重构的时间，可以通过“债务偿还”的方式进行解决，即项目交付后，在维护的过程中不断进行重构来偿还债务，良好的代码结构可以减轻你的维护成本。
## 5重构与设计
#### 5.1重构可以小范围取代预先设计
 * 在开始编码前不需要做任何的设计，只管按照想法进行编码让代码有效的运行起来，然后在将他进行重构。主要针对体量较小的项目
#### 5.2重构和设计是彼此互补的
 * 如果没有重构，代码完全依赖于前期的设计，那这个设计的压力必将山大，因为他要保证设计的完全正确无误。
 * 加上重构，早期你只需要设计出一个足够合理的解决方案，随着你对问题理解的逐渐加深，你会察觉到最佳解决方案和你最初的设计不太一样，这时你就可以按照新理解进行重构。（有利于简化设计过程）
## 6.重构与性能
#### 6.1彼此对立？
 * 大多数时候我们进行重构关注的是代码的纯洁性，让代码更加规整，而忽略了性能。从这点上来说 ，进行代码重构会有使性能变慢的风险。
#### 6.2长远来看他们并不对立
 * 回到重构的本事，重构是在不改变程序的可观察行为前提下，使程序变得更容易理解和修改，这又会使程序的性能优化更为容易。
 * 随时的进行重构，保持结构良好的代码，你就能快速的进行程序阅读和添加新功能，也就有更多的时间去进行性能优化。同时优良的结构会使你进行问题分析的粒度更细，更容易精准的定位。
